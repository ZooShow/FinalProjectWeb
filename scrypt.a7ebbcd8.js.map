{"version":3,"sources":["src/SubSites/messenger/src/scrypt.js"],"names":["getFromLocalStorage","items","localStorage","getItem","document","querySelector","textContent","messages","split","parent","i","length","message","createElement","classList","add","innerHTML","insertAdjacentElement","scrollTop","button","text","sendMessage","onclick","value","saveToLocalStorage","addEventListener","event","code","preventDefault","contacts","querySelectorAll","contact","old","remove","del","push","setItem"],"mappings":"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","file":"scrypt.a7ebbcd8.js","sourceRoot":"..","sourcesContent":["let getFromLocalStorage = function() {\r\n    let items = localStorage.getItem(document.querySelector('.selected').textContent);\r\n    if (items == null) {\r\n        return\r\n    }\r\n    let messages = items.split(',');\r\n    let parent = document.querySelector('.messages');\r\n    for (let i = 0; i < messages.length; ++i) {\r\n        let message = document.createElement('div');\r\n        message.classList.add(\"message\");\r\n        message.innerHTML = \"<span>\" + messages[i] + \"</span>\";\r\n        parent.insertAdjacentElement('beforeend', message);\r\n    }\r\n}\r\n\r\ngetFromLocalStorage();\r\n\r\nlet parent = document.querySelector('.messages');\r\nparent.scrollTop = 9999999;\r\nlet button = document.querySelector('.send');\r\nlet text = document.querySelector(\".text\");\r\n\r\n\r\n\r\n\r\nlet sendMessage = button.onclick = function() {\r\n    if (text.value !== \"\") {\r\n        let parent = document.querySelector('.messages');\r\n        let message = document.createElement('div');\r\n        message.classList.add(\"message\");\r\n        message.innerHTML = \"<span>\" + text.value + \"</span>\";\r\n        parent.insertAdjacentElement('beforeend', message);\r\n        parent.scrollTop = \"9999\";\r\n        text.value = \"\";\r\n    } else {\r\n        return\r\n    }\r\n    saveToLocalStorage();\r\n}\r\n\r\ndocument.addEventListener('keydown', function() {\r\n    if (event.code == \"Enter\") {\r\n        sendMessage();\r\n        event.preventDefault();\r\n    }\r\n})\r\n\r\nlet contacts = document.querySelectorAll('.dialoge');\r\n\r\nfor (let contact of contacts) {\r\n    contact.onclick = function() {\r\n        let old = document.querySelector('.selected');\r\n        if (old === contact) {\r\n            return;\r\n        }\r\n        if (old !== null) {\r\n            old.classList.remove('selected');\r\n        }\r\n        contact.classList.add('selected');\r\n        del();\r\n        getFromLocalStorage();\r\n    };\r\n};\r\n\r\nlet del = function() {\r\n    let messages = document.querySelectorAll('.message');\r\n    for (let message of messages) {\r\n        message.remove();\r\n    }\r\n}\r\n\r\nlet saveToLocalStorage = function() {\r\n    let text = [];\r\n    let messages = document.querySelectorAll('.message');\r\n    for (message of messages) {\r\n        text.push(message.textContent);\r\n    }\r\n    localStorage.setItem(document.querySelector('.selected').textContent, text);\r\n}"]}